{
  "competition": "USA TSTST",
  "years": "2011-2025",
  "description": "USA Team Selection Test (TSTST) problems from 2011 to 2025",
  "total_years": 15,
  "total_problems": 123,
  "data": {
    "2011": {
      "year": "2011",
      "problems": {
        "Selection Team Test": {
          "USA": [
            {
              "id": 1,
              "number": "1",
              "statement": "Find all real-valued functions $f$ defined on pairs of real numbers, having the following property: for all real numbers $a, b, c$, the median of $f(a, b)$, $f(b, c)$, $f(c, a)$ equals the median of $a, b, c$. (The median of three real numbers, not necessarily distinct, is the number that is in the middle when the three numbers are arranged in nondecreasing order.)",
              "category": "Algebra",
              "difficulty": "Hard"
            },
            {
              "id": 2,
              "number": "2",
              "statement": "Two circles $\\omega_1$ and $\\omega_2$ intersect at points $A$ and $B$. Line $\\ell$ is tangent to $\\omega_1$ at $P$ and to $\\omega_2$ at $Q$ so that $A$ is closer to $\\ell$ than $B$. Let $X$ and $Y$ be points on major arcs $\\widehat{PA}$ (on $\\omega_1$) and $\\widehat{AQ}$ (on $\\omega_2$), respectively, such that $AX/PX = AY/QY = c$. Extend segments $PA$ and $QA$ through $A$ to $R$ and $S$, respectively, such that $AR = AS = c \\cdot PQ$. Given that the circumcenter of triangle $ARS$ lies on line $XY$, prove that $\\angle XPA = \\angle AQY$.",
              "category": "Geometry",
              "difficulty": "Hard"
            },
            {
              "id": 3,
              "number": "3",
              "statement": "Prove that there exists a real constant $c$ such that for any pair $(x, y)$ of real numbers, there exist relatively prime integers $m$ and $n$ satisfying the relation $\\sqrt{(x - m)^2 + (y - n)^2} < c \\log(x^2 + y^2 + 2)$.",
              "category": "Number Theory",
              "difficulty": "Hard"
            },
            {
              "id": 4,
              "number": "4",
              "statement": "Acute triangle $ABC$ is inscribed in circle $\\omega$. Let $H$ and $O$ denote its orthocenter and circumcenter, respectively. Let $M$ and $N$ be the midpoints of sides $AB$ and $AC$, respectively. Rays $MH$ and $NH$ meet $\\omega$ at $P$ and $Q$, respectively. Lines $MN$ and $PQ$ meet at $R$. Prove that $OA \\perp RA$.",
              "category": "Geometry",
              "difficulty": "Hard"
            },
            {
              "id": 5,
              "number": "5",
              "statement": "At a certain orphanage, every pair of orphans are either friends or enemies. For every three of an orphan's friends, an even number of pairs of them are enemies. Prove that it's possible to assign each orphan two parents such that every pair of friends shares exactly one parent, but no pair of enemies does, and no three parents are in a love triangle (where each pair of them has a child).",
              "category": "Combinatorics",
              "difficulty": "Hard"
            },
            {
              "id": 6,
              "number": "6",
              "statement": "Let $a, b, c$ be positive real numbers in the interval $[0, 1]$ with $a + b, b + c, c + a \\geq 1$. Prove that $1 \\leq (1 - a)^2 + (1 - b)^2 + (1 - c)^2 + \\frac{2\\sqrt{2abc}}{\\sqrt{a^2 + b^2 + c^2}}$.",
              "category": "Algebra",
              "difficulty": "Hard"
            },
            {
              "id": 7,
              "number": "7",
              "statement": "Let $ABC$ be a triangle. Its excircles touch sides $BC$, $CA$, $AB$ at $D$, $E$, $F$, respectively. Prove that the perimeter of triangle $ABC$ is at most twice that of triangle $DEF$.",
              "category": "Geometry",
              "difficulty": "Hard"
            },
            {
              "id": 8,
              "number": "8",
              "statement": "Let $x_0, x_1, \\ldots, x_{n_0-1}$ be integers, and let $d_1, d_2, \\ldots, d_k$ be positive integers with $n_0 = d_1 > d_2 > \\cdots > d_k$ and $\\gcd(d_1, d_2, \\ldots, d_k) = 1$. For every integer $n \\geq n_0$, define $x_n = \\left\\lfloor \\frac{x_{n-d_1} + x_{n-d_2} + \\cdots + x_{n-d_k}}{k} \\right\\rfloor$. Show that the sequence $\\{x_n\\}$ is eventually constant.",
              "category": "Algebra",
              "difficulty": "Hard"
            },
            {
              "id": 9,
              "number": "9",
              "statement": "Let $n$ be a positive integer. Suppose we are given $2^n + 1$ distinct sets, each containing finitely many objects. Place each set into one of two categories, the red sets and the blue sets, so that there is at least one set in each category. We define the symmetric difference of two sets as the set of objects belonging to exactly one of the two sets. Prove that there are at least $2^n$ different sets which can be obtained as the symmetric difference of a red set and a blue set.",
              "category": "Combinatorics",
              "difficulty": "Hard"
            }
          ]
        }
      }
    },
    "2012": {
      "year": "2012",
      "problems": {
        "Selection Team Test": {
          "USA": [
            {
              "id": 101,
              "number": "1",
              "statement": "Find all infinite sequences $a_1, a_2, \\ldots$ of positive integers satisfying the following properties: (a) $a_1 < a_2 < a_3 < \\cdots$, (b) there are no positive integers $i, j, k$, not necessarily distinct, such that $a_i + a_j = a_k$, (c) there are infinitely many $k$ such that $a_k = 2k - 1$.",
              "category": "Combinatorics",
              "difficulty": "Hard"
            },
            {
              "id": 102,
              "number": "2",
              "statement": "Let $ABCD$ be a quadrilateral with $AC = BD$. Diagonals $AC$ and $BD$ meet at $P$. Let $\\omega_1$ and $O_1$ denote the circumcircle and the circumcenter of triangle $ABP$. Let $\\omega_2$ and $O_2$ denote the circumcircle and circumcenter of triangle $CDP$. Segment $BC$ meets $\\omega_1$ and $\\omega_2$ again at $S$ and $T$ (other than $B$ and $C$), respectively. Let $M$ and $N$ be the midpoints of minor arcs $\\widehat{SP}$ (not including $B$) and $\\widehat{TP}$ (not including $C$). Prove that $MN \\parallel O_1O_2$.",
              "category": "Geometry",
              "difficulty": "Hard"
            },
            {
              "id": 103,
              "number": "3",
              "statement": "Let $\\mathbb{N}$ be the set of positive integers. Let $f : \\mathbb{N} \\to \\mathbb{N}$ be a function satisfying the following two conditions: (a) $f(m)$ and $f(n)$ are relatively prime whenever $m$ and $n$ are relatively prime. (b) $n \\leq f(n) \\leq n + 2012$ for all $n$. Prove that for any natural number $n$ and any prime $p$, if $p$ divides $f(n)$ then $p$ divides $n$.",
              "category": "Number Theory",
              "difficulty": "Hard"
            },
            {
              "id": 104,
              "number": "4",
              "statement": "In scalene triangle $ABC$, let the feet of the perpendiculars from $A$ to $BC$, $B$ to $CA$, $C$ to $AB$ be $A_1, B_1, C_1$, respectively. Denote by $A_2$ the intersection of lines $BC$ and $B_1C_1$. Define $B_2$ and $C_2$ analogously. Let $D, E, F$ be the respective midpoints of sides $BC, CA, AB$. Show that the perpendiculars from $D$ to $AA_2$, $E$ to $BB_2$ and $F$ to $CC_2$ are concurrent.",
              "category": "Geometry",
              "difficulty": "Hard"
            },
            {
              "id": 105,
              "number": "5",
              "statement": "A rational number $x$ is given. Prove that there exists a sequence $x_0, x_1, x_2, \\ldots$ of rational numbers with the following properties: (a) $x_0 = x$; (b) for every $n \\geq 1$, either $x_n = 2x_{n-1}$ or $x_n = 2x_{n-1} + \\frac{1}{n}$; (c) $x_n$ is an integer for some $n$.",
              "category": "Number Theory",
              "difficulty": "Hard"
            },
            {
              "id": 106,
              "number": "6",
              "statement": "Positive real numbers $x, y, z$ satisfy $xyz + xy + yz + zx = x + y + z + 1$. Prove that $\\frac{1}{3}\\left(\\sqrt{\\frac{1 + x^2}{1 + x}} + \\sqrt{\\frac{1 + y^2}{1 + y}} + \\sqrt{\\frac{1 + z^2}{1 + z}}\\right) \\leq \\left(\\frac{x + y + z}{3}\\right)^{5/8}$.",
              "category": "Algebra",
              "difficulty": "Hard"
            },
            {
              "id": 107,
              "number": "7",
              "statement": "Triangle $ABC$ is inscribed in circle $\\Omega$. The interior angle bisector of angle $A$ intersects side $BC$ and $\\Omega$ at $D$ and $L$ (other than $A$), respectively. Let $M$ be the midpoint of side $BC$. The circumcircle of triangle $ADM$ intersects sides $AB$ and $AC$ again at $Q$ and $P$ (other than $A$), respectively. Let $N$ be the midpoint of segment $PQ$, and let $H$ be the foot of the perpendicular from $L$ to line $ND$. Prove that line $ML$ is tangent to the circumcircle of triangle $HMN$.",
              "category": "Geometry",
              "difficulty": "Hard"
            },
            {
              "id": 108,
              "number": "8",
              "statement": "Let $n$ be a positive integer. Consider a triangular array of nonnegative integers. Call such a triangular array stable if for every $0 \\leq i < j < k \\leq n$ we have $a_{i,j} + a_{j,k} \\leq a_{i,k} \\leq a_{i,j} + a_{j,k} + 1$. For $s_1, \\ldots s_n$ any nondecreasing sequence of nonnegative integers, prove that there exists a unique stable triangular array such that the sum of all of the entries in row $k$ is equal to $s_k$.",
              "category": "Combinatorics",
              "difficulty": "Hard"
            },
            {
              "id": 109,
              "number": "9",
              "statement": "Given a set $S$ of $n$ variables, a binary operation $\\times$ on $S$ is called simple if it satisfies $(x \\times y) \\times z = x \\times (y \\times z)$ for all $x, y, z \\in S$ and $x \\times y \\in \\{x, y\\}$ for all $x, y \\in S$. Given a simple operation $\\times$ on $S$, any string of elements in $S$ can be reduced to a single element, such as $xyz \\to x \\times (y \\times z)$. A string of variables in $S$ is called full if it contains each variable in $S$ at least once, and two strings are equivalent if they evaluate to the same variable regardless of which simple $\\times$ is chosen. Suppose $T$ is a set of strings such that any full string is equivalent to exactly one element of $T$. Determine the number of elements of $T$.",
              "category": "Combinatorics",
              "difficulty": "Hard"
            }
          ]
        }
      }
    },
    "2013": {
      "year": "2013",
      "problems": {
        "Selection Team Test": {
          "USA": [
            {
              "id": 201,
              "number": "1",
              "statement": "Let $ABC$ be a triangle and $D, E, F$ be the midpoints of arcs $BC, CA, AB$ on the circumcircle. Line $\\ell_a$ passes through the feet of the perpendiculars from $A$ to $DB$ and $DC$. Line $m_a$ passes through the feet of the perpendiculars from $D$ to $AB$ and $AC$. Let $A_1$ denote the intersection of lines $\\ell_a$ and $m_a$. Define points $B_1$ and $C_1$ similarly. Prove that triangle $DEF$ and $A_1B_1C_1$ are similar to each other.",
              "category": "Geometry",
              "difficulty": "Hard"
            },
            {
              "id": 202,
              "number": "2",
              "statement": "A finite sequence of integers $a_1, a_2, \\ldots, a_n$ is called regular if there exists a real number $x$ satisfying $\\lfloor kx \\rfloor = a_k$ for $1 \\leq k \\leq n$. Given a regular sequence $a_1, a_2, \\ldots, a_n$, for $1 \\leq k \\leq n$ we say that the term $a_k$ is forced if the following condition is satisfied: the sequence $a_1, a_2, \\ldots, a_{k-1}, b$ is regular if and only if $b = a_k$. Find the maximum possible number of forced terms in a regular sequence with 1000 terms.",
              "category": "Number Theory",
              "difficulty": "Hard"
            },
            {
              "id": 203,
              "number": "3",
              "statement": "Divide the plane into an infinite square grid by drawing all the lines $x = m$ and $y = n$ for $m, n \\in \\mathbb{Z}$. Next, if a square's upper-right corner has both coordinates even, color it black; otherwise, color it white (in this way, exactly 1/4 of the squares are black and no two black squares are adjacent). Let $r$ and $s$ be odd integers, and let $(x, y)$ be a point in the interior of any white square such that $rx - sy$ is irrational. Shoot a laser out of this point with slope $r/s$; lasers pass through white squares and reflect off black squares. Prove that the path of this laser will form a closed loop.",
              "category": "Combinatorics",
              "difficulty": "Hard"
            },
            {
              "id": 204,
              "number": "4",
              "statement": "Circle $\\omega$, centered at $X$, is internally tangent to circle $\\Omega$, centered at $Y$, at $T$. Let $P$ and $S$ be variable points on $\\Omega$ and $\\omega$, respectively, such that line $PS$ is tangent to $\\omega$ (at $S$). Determine the locus of $O$ â€“ the circumcenter of triangle $PST$.",
              "category": "Geometry",
              "difficulty": "Hard"
            },
            {
              "id": 205,
              "number": "5",
              "statement": "Let $p$ be a prime. Prove that any complete graph with $1000p$ vertices, whose edges are labelled with integers, has a cycle whose sum of labels is divisible by $p$.",
              "category": "Combinatorics",
              "difficulty": "Hard"
            },
            {
              "id": 206,
              "number": "6",
              "statement": "Let $\\mathbb{N}$ be the set of positive integers. Find all functions $f : \\mathbb{N} \\to \\mathbb{N}$ that satisfy the equation $f^{abc-a}(abc) + f^{abc-b}(abc) + f^{abc-c}(abc) = a + b + c$ for all $a, b, c \\geq 2$. (Here $f^1(n) = f(n)$ and $f^k(n) = f(f^{k-1}(n))$ for every integer $k$ greater than 1.)",
              "category": "Algebra",
              "difficulty": "Hard"
            },
            {
              "id": 207,
              "number": "7",
              "statement": "A country has $n$ cities, labelled $1, 2, 3, \\ldots, n$. It wants to build exactly $n-1$ roads between certain pairs of cities so that every city is reachable from every other city via some sequence of roads. However, it is not permitted to put roads between pairs of cities that have labels differing by exactly 1, and it is also not permitted to put a road between cities 1 and $n$. Let $T_n$ be the total number of possible ways to build these roads. (a) For all odd $n$, prove that $T_n$ is divisible by $n$. (b) For all even $n$, prove that $T_n$ is divisible by $n/2$.",
              "category": "Combinatorics",
              "difficulty": "Hard"
            },
            {
              "id": 208,
              "number": "8",
              "statement": "Define a function $f : \\mathbb{N} \\to \\mathbb{N}$ by $f(1) = 1$, $f(n + 1) = f(n) + 2^{f(n)}$ for every positive integer $n$. Prove that $f(1), f(2), \\ldots, f(3^{2013})$ leave distinct remainders when divided by $3^{2013}$.",
              "category": "Number Theory",
              "difficulty": "Hard"
            },
            {
              "id": 209,
              "number": "9",
              "statement": "Let $r$ be a rational number in the interval $[-1, 1]$ and let $\\theta = \\cos^{-1}r$. Call a subset $S$ of the plane good if $S$ is unchanged upon rotation by $\\theta$ around any point of $S$ (in both clockwise and counterclockwise directions). Determine all values of $r$ satisfying the following property: The midpoint of any two points in a good set also lies in the set.",
              "category": "Geometry",
              "difficulty": "Hard"
            }
          ]
        }
      }
    },
    "2014": {
      "year": "2014",
      "problems": {
        "Selection Team Test": {
          "USA": [
            {
              "id": 301,
              "number": "1",
              "statement": "Let $\\leftarrow$ denote the left arrow key on a standard keyboard. If one opens a text editor and types the keys \"ab$\\leftarrow$ cd $\\leftarrow\\leftarrow$ e $\\leftarrow\\leftarrow$ f\", the result is \"faecdb\". We say that a string $B$ is reachable from a string $A$ if it is possible to insert some amount of $\\leftarrow$'s in $A$, such that typing the resulting characters produces $B$. Prove that for any two strings $A$ and $B$, $A$ is reachable from $B$ if and only if $B$ is reachable from $A$.",
              "category": "Combinatorics",
              "difficulty": "Hard"
            },
            {
              "id": 302,
              "number": "2",
              "statement": "Consider a convex pentagon circumscribed about a circle. We name the lines that connect vertices of the pentagon with the opposite points of tangency with the circle gergonnians. (a) Prove that if four gergonnians are concurrent, then all five of them are concurrent. (b) Prove that if there is a triple of gergonnians that are concurrent, then there is another triple of gergonnians that are concurrent.",
              "category": "Geometry",
              "difficulty": "Hard"
            },
            {
              "id": 303,
              "number": "3",
              "statement": "Find all polynomials $P(x)$ with real coefficients that satisfy $P(x\\sqrt{2}) = P(x + \\sqrt{1 - x^2})$ for all real $x$ with $|x| \\leq 1$.",
              "category": "Algebra",
              "difficulty": "Hard"
            },
            {
              "id": 304,
              "number": "4",
              "statement": "Let $P(x)$ and $Q(x)$ be arbitrary polynomials with real coefficients, and let $d$ be the degree of $P(x)$. Assume that $P(x)$ is not the zero polynomial. Prove that there exist polynomials $A(x)$ and $B(x)$ such that: (i) both $A$ and $B$ have degree at most $d/2$, (ii) at most one of $A$ and $B$ is the zero polynomial, (iii) $\\frac{A(x)+Q(x)B(x)}{P(x)}$ is a polynomial with real coefficients.",
              "category": "Algebra",
              "difficulty": "Hard"
            },
            {
              "id": 305,
              "number": "5",
              "statement": "Find the maximum number $E$ such that the following holds: there is an edge-colored graph with 60 vertices and $E$ edges, with each edge colored either red or blue, such that in that coloring, there is no monochromatic cycles of length 3 and no monochromatic cycles of length 5.",
              "category": "Combinatorics",
              "difficulty": "Hard"
            },
            {
              "id": 306,
              "number": "6",
              "statement": "Suppose we have distinct positive integers $a, b, c, d$, and an odd prime $p$ not dividing any of them, and an integer $M$ such that if one considers the infinite sequence $ca - db, ca^2 - db^2, ca^3 - db^3, ca^4 - db^4, \\ldots$ and looks at the highest power of $p$ that divides each of them, these powers are not all zero, and are all at most $M$. Prove that there exists some $T$ such that whenever $p$ divides an element of this sequence, the maximum power of $p$ that divides that element is exactly $p^T$.",
              "category": "Number Theory",
              "difficulty": "Hard"
            }
          ]
        }
      }
    },
    "2015": {
      "year": "2015",
      "problems": {
        "Selection Team Test": {
          "USA": [
            {
              "id": 401,
              "number": "1",
              "statement": "Let $a_1, a_2, \\ldots, a_n$ be a sequence of real numbers, and let $m$ be a fixed positive integer less than $n$. We say an index $k$ with $1 \\leq k \\leq n$ is good if there exists some $\\ell$ with $1 \\leq \\ell \\leq m$ such that $a_k + a_{k+1} + \\cdots + a_{k+\\ell-1} \\geq 0$, where the indices are taken modulo $n$. Let $T$ be the set of all good indices. Prove that $\\sum_{k \\in T} a_k \\geq 0$.",
              "category": "Combinatorics",
              "difficulty": "Hard"
            },
            {
              "id": 402,
              "number": "2",
              "statement": "Let $ABC$ be a scalene triangle. Let $K_a, L_a$ and $M_a$ be the respective intersections with $BC$ of the internal angle bisector, external angle bisector, and the median from $A$. The circumcircle of $AK_aL_a$ intersects $AM_a$ a second time at point $X_a$ different from $A$. Define $X_b$ and $X_c$ analogously. Prove that the circumcenter of $X_aX_bX_c$ lies on the Euler line of $ABC$.",
              "category": "Geometry",
              "difficulty": "Hard"
            },
            {
              "id": 403,
              "number": "3",
              "statement": "Let $P$ be the set of all primes, and let $M$ be a non-empty subset of $P$. Suppose that for any non-empty subset $p_1, p_2, \\ldots, p_k$ of $M$, all prime factors of $p_1p_2\\cdots p_k + 1$ are also in $M$. Prove that $M = P$.",
              "category": "Number Theory",
              "difficulty": "Hard"
            },
            {
              "id": 404,
              "number": "4",
              "statement": "Let $x, y$, and $z$ be real numbers (not necessarily positive) such that $x^4 + y^4 + z^4 + xyz = 4$. Show that $x \\leq 2$ and $\\sqrt{2} - x \\geq \\frac{y+z}{2}$.",
              "category": "Algebra",
              "difficulty": "Hard"
            },
            {
              "id": 405,
              "number": "5",
              "statement": "Let $\\varphi(n)$ denote the number of positive integers less than $n$ that are relatively prime to $n$. Prove that there exists a positive integer $m$ for which the equation $\\varphi(n) = m$ has at least 2015 solutions in $n$.",
              "category": "Number Theory",
              "difficulty": "Hard"
            },
            {
              "id": 406,
              "number": "6",
              "statement": "A Nim-style game is defined as follows. Two positive integers $k$ and $n$ are specified, along with a finite set $S$ of $k$-tuples of integers (not necessarily positive). At the start of the game, the $k$-tuple $(n, 0, 0, \\ldots, 0)$ is written on the blackboard. A legal move consists of erasing the tuple $(a_1, a_2, \\ldots, a_k)$ which is written on the blackboard and replacing it with $(a_1 + b_1, a_2 + b_2, \\ldots, a_k + b_k)$, where $(b_1, b_2, \\ldots, b_k)$ is an element of the set $S$. Two players take turns making legal moves, and the first to write a negative integer loses. In the event that neither player is ever forced to write a negative integer, the game is a draw. Prove that there is a choice of $k$ and $S$ with the following property: the first player has a winning strategy if $n$ is a power of 2, and otherwise the second player has a winning strategy.",
              "category": "Combinatorics",
              "difficulty": "Hard"
            }
          ]
        }
      }
    },
    "2016": {
      "year": "2016",
      "problems": {
        "Selection Team Test": {
          "USA": [
            {
              "id": 501,
              "number": "1",
              "statement": "Let $A = A(x, y)$ and $B = B(x, y)$ be two-variable polynomials with real coefficients. Suppose that $A(x, y)/B(x, y)$ is a polynomial in $x$ for infinitely many values of $y$, and a polynomial in $y$ for infinitely many values of $x$. Prove that $B$ divides $A$, meaning there exists a third polynomial $C$ with real coefficients such that $A = B \\cdot C$.",
              "category": "Algebra",
              "difficulty": "Hard"
            },
            {
              "id": 502,
              "number": "2",
              "statement": "Let $ABC$ be a scalene triangle with orthocenter $H$ and circumcenter $O$. Denote by $M, N$ the midpoints of $AH, BC$. Suppose the circle $\\gamma$ with diameter $AH$ meets the circumcircle of $ABC$ at $G \\neq A$, and meets line $AN$ at a point $Q \\neq A$. The tangent to $\\gamma$ at $G$ meets line $OM$ at $P$. Show that the circumcircles of $\\triangle GNQ$ and $\\triangle MBC$ intersect at a point $T$ on $PN$.",
              "category": "Geometry",
              "difficulty": "Hard"
            },
            {
              "id": 503,
              "number": "3",
              "statement": "Decide whether or not there exists a nonconstant polynomial $Q(x)$ with integer coefficients with the following property: for every positive integer $n > 2$, the numbers $Q(0), Q(1), Q(2), \\ldots, Q(n - 1)$ produce at most $0.499n$ distinct residues when taken modulo $n$.",
              "category": "Number Theory",
              "difficulty": "Hard"
            },
            {
              "id": 504,
              "number": "4",
              "statement": "Suppose that $n$ and $k$ are positive integers such that $1 = \\varphi(\\varphi(\\ldots \\varphi(n)\\ldots))$ ($k$ times). Prove that $n \\leq 3^k$.",
              "category": "Number Theory",
              "difficulty": "Hard"
            },
            {
              "id": 505,
              "number": "5",
              "statement": "In the coordinate plane are finitely many walls; which are disjoint line segments, none of which are parallel to either axis. A bulldozer starts at an arbitrary point and moves in the $+x$ direction. Every time it hits a wall, it turns at a right angle to its path, away from the wall, and continues moving. Prove that it is impossible for the bulldozer to hit both sides of every wall.",
              "category": "Combinatorics",
              "difficulty": "Hard"
            },
            {
              "id": 506,
              "number": "6",
              "statement": "Let $ABC$ be a triangle with incenter $I$, and whose incircle is tangent to $BC, CA, AB$ at $D, E, F$, respectively. Let $K$ be the foot of the altitude from $D$ to $EF$. Suppose that the circumcircle of $\\triangle AIB$ meets the incircle at two distinct points $C_1$ and $C_2$, while the circumcircle of $\\triangle AIC$ meets the incircle at two distinct points $B_1$ and $B_2$. Prove that the radical axis of the circumcircles of $\\triangle BB_1B_2$ and $\\triangle CC_1C_2$ passes through the midpoint $M$ of $DK$.",
              "category": "Geometry",
              "difficulty": "Hard"
            }
          ]
        }
      }
    },
    "2017": {
      "year": "2017",
      "problems": {
        "Selection Team Test": {
          "USA": [
            {
              "id": 601,
              "number": "1",
              "statement": "Let $ABC$ be a triangle with circumcircle $\\Gamma$, circumcenter $O$, and orthocenter $H$. Assume that $AB \\neq AC$ and that $\\angle A \\neq 90^\\circ$. Let $M$ and $N$ be the midpoints of sides $AB$ and $AC$, respectively, and let $E$ and $F$ be the feet of the altitudes from $B$ and $C$ in $\\triangle ABC$, respectively. Let $P$ be the intersection of line $MN$ with the tangent line to $\\Gamma$ at $A$. Let $Q$ be the intersection point, other than $A$, of $\\Gamma$ with the circumcircle of $\\triangle AEF$. Let $R$ be the intersection of lines $AQ$ and $EF$. Prove that $PR \\perp OH$.",
              "category": "Geometry",
              "difficulty": "Hard"
            },
            {
              "id": 602,
              "number": "2",
              "statement": "Ana and Banana are playing a game. First Ana picks a word, which is defined to be a nonempty sequence of capital English letters. Then Banana picks a nonnegative integer $k$ and challenges Ana to supply a word with exactly $k$ subsequences which are equal to Ana's word. Ana wins if she is able to supply such a word, otherwise she loses. Which words can Ana pick so that she wins no matter what value of $k$ Banana chooses?",
              "category": "Combinatorics",
              "difficulty": "Hard"
            },
            {
              "id": 603,
              "number": "3",
              "statement": "Consider solutions to the equation $x^2 - cx + 1 = \\frac{f(x)}{g(x)}$, where $f$ and $g$ are polynomials with nonnegative real coefficients. For each $c > 0$, determine the minimum possible degree of $f$, or show that no such $f, g$ exist.",
              "category": "Algebra",
              "difficulty": "Hard"
            },
            {
              "id": 604,
              "number": "4",
              "statement": "Find all nonnegative integer solutions to $2^a + 3^b + 5^c = n!$.",
              "category": "Number Theory",
              "difficulty": "Hard"
            },
            {
              "id": 605,
              "number": "5",
              "statement": "Let $ABC$ be a triangle with incenter $I$. Let $D$ be a point on side $BC$ and let $\\omega_B$ and $\\omega_C$ be the incircles of $\\triangle ABD$ and $\\triangle ACD$, respectively. Suppose that $\\omega_B$ and $\\omega_C$ are tangent to segment $BC$ at points $E$ and $F$, respectively. Let $P$ be the intersection of segment $AD$ with the line joining the centers of $\\omega_B$ and $\\omega_C$. Let $X$ be the intersection point of lines $BI$ and $CP$ and let $Y$ be the intersection point of lines $CI$ and $BP$. Prove that lines $EX$ and $FY$ meet on the incircle of $\\triangle ABC$.",
              "category": "Geometry",
              "difficulty": "Hard"
            },
            {
              "id": 606,
              "number": "6",
              "statement": "A sequence of positive integers $(a_n)_{n\\geq 1}$ is of Fibonacci type if it satisfies the recursive relation $a_{n+2} = a_{n+1} + a_n$ for all $n \\geq 1$. Is it possible to partition the set of positive integers into an infinite number of Fibonacci type sequences?",
              "category": "Combinatorics",
              "difficulty": "Hard"
            }
          ]
        }
      }
    },
    "2018": {
      "year": "2018",
      "problems": {
        "Selection Team Test": {
          "USA": [
            {
              "id": 701,
              "number": "1",
              "statement": "As usual, let $\\mathbb{Z}[x]$ denote the set of single-variable polynomials in $x$ with integer coefficients. Find all functions $\\theta : \\mathbb{Z}[x] \\to \\mathbb{Z}$ such that for any polynomials $p, q \\in \\mathbb{Z}[x]$: $\\theta(p + 1) = \\theta(p) + 1$, and if $\\theta(p) \\neq 0$ then $\\theta(p)$ divides $\\theta(p \\cdot q)$.",
              "category": "Algebra",
              "difficulty": "Hard"
            },
            {
              "id": 702,
              "number": "2",
              "statement": "In the nation of Onewaynia, certain pairs of cities are connected by one-way roads. Every road connects exactly two cities, and each pair of cities has at most one road between them. Moreover, every city has exactly two roads leaving it and exactly two roads entering it. We wish to close half the roads of Onewaynia in such a way that every city has exactly one road leaving it and exactly one road entering it. Show that the number of ways to do so is a power of 2 greater than 1.",
              "category": "Combinatorics",
              "difficulty": "Hard"
            },
            {
              "id": 703,
              "number": "3",
              "statement": "Let $ABC$ be an acute triangle with incenter $I$, circumcenter $O$, and circumcircle $\\Gamma$. Let $M$ be the midpoint of $AB$. Ray $AI$ meets $BC$ at $D$. Denote by $\\omega$ and $\\gamma$ the circumcircles of $\\triangle BIC$ and $\\triangle BAD$, respectively. Line $MO$ meets $\\omega$ at $X$ and $Y$, while line $CO$ meets $\\omega$ at $C$ and $Q$. Assume that $Q$ lies inside $\\triangle ABC$ and $\\angle AQM = \\angle ACB$. Consider the tangents to $\\omega$ at $X$ and $Y$ and the tangents to $\\gamma$ at $A$ and $D$. Given that $\\angle BAC \\neq 60^\\circ$, prove that these four lines are concurrent on $\\Gamma$.",
              "category": "Geometry",
              "difficulty": "Hard"
            },
            {
              "id": 704,
              "number": "4",
              "statement": "For an integer $n > 0$, denote by $\\mathcal{F}(n)$ the set of integers $m > 0$ for which the polynomial $p(x) = x^2 + mx + n$ has an integer root. Let $S$ denote the set of integers $n > 0$ for which $\\mathcal{F}(n)$ contains two consecutive integers. Show that $S$ is infinite but $\\sum_{n \\in S} \\frac{1}{n} \\leq 1$. Prove that there are infinitely many positive integers $n$ such that $\\mathcal{F}(n)$ contains three consecutive integers.",
              "category": "Number Theory",
              "difficulty": "Hard"
            },
            {
              "id": 705,
              "number": "5",
              "statement": "Let $ABC$ be an acute triangle with circumcircle $\\omega$, and let $H$ be the foot of the altitude from $A$ to $BC$. Let $P$ and $Q$ be the points on $\\omega$ with $PA = PH$ and $QA = QH$. The tangent to $\\omega$ at $P$ intersects lines $AC$ and $AB$ at $E_1$ and $F_1$ respectively; the tangent to $\\omega$ at $Q$ intersects lines $AC$ and $AB$ at $E_2$ and $F_2$ respectively. Show that the circumcircles of $\\triangle AE_1F_1$ and $\\triangle AE_2F_2$ are congruent, and the line through their centers is parallel to the tangent to $\\omega$ at $A$.",
              "category": "Geometry",
              "difficulty": "Hard"
            },
            {
              "id": 706,
              "number": "6",
              "statement": "Let $S = \\{1, \\ldots, 100\\}$, and for every positive integer $n$ define $T_n = \\{(a_1, \\ldots, a_n) \\in S^n \\mid a_1 + \\cdots + a_n \\equiv 0 \\pmod{100}\\}$. Determine which $n$ have the following property: if we color any 75 elements of $S$ red, then at least half of the $n$-tuples in $T_n$ have an even number of coordinates with red elements.",
              "category": "Combinatorics",
              "difficulty": "Hard"
            },
            {
              "id": 707,
              "number": "7",
              "statement": "Let $n$ be a positive integer. A frog starts on the number line at 0. Suppose it makes a finite sequence of hops, subject to two conditions: The frog visits only points in $\\{1, 2, \\ldots, 2^n - 1\\}$, each at most once. The length of each hop is in $\\{2^0, 2^1, 2^2, \\ldots\\}$. Let $S$ be the sum of the (positive) lengths of all hops in the sequence. What is the maximum possible value of $S$?",
              "category": "Combinatorics",
              "difficulty": "Hard"
            },
            {
              "id": 708,
              "number": "8",
              "statement": "For which positive integers $b > 2$ do there exist infinitely many positive integers $n$ such that $n^2$ divides $b^n + 1$?",
              "category": "Number Theory",
              "difficulty": "Hard"
            },
            {
              "id": 709,
              "number": "9",
              "statement": "Show that there is an absolute constant $c < 1$ with the following property: whenever $P$ is a polygon with area 1 in the plane, one can translate it by a distance of $\\frac{1}{100}$ in some direction to obtain a polygon $Q$, for which the intersection of the interiors of $P$ and $Q$ has total area at most $c$.",
              "category": "Geometry",
              "difficulty": "Hard"
            }
          ]
        }
      }
    },
    "2019": {
      "year": "2019",
      "problems": {
        "Selection Team Test": {
          "USA": [
            {
              "id": 801,
              "number": "1",
              "statement": "Find all binary operations $\\diamond : \\mathbb{R}_{>0} \\times \\mathbb{R}_{>0} \\to \\mathbb{R}_{>0}$ such that for any real numbers $a, b, c > 0$: the equation $a \\diamond (b \\diamond c) = (a \\diamond b) \\cdot c$ holds; and if $a \\geq 1$ then $a \\diamond a \\geq 1$.",
              "category": "Algebra",
              "difficulty": "Hard"
            },
            {
              "id": 802,
              "number": "2",
              "statement": "Let $ABC$ be an acute triangle with circumcircle $\\Omega$ and orthocenter $H$. Points $D$ and $E$ lie on segments $AB$ and $AC$ respectively, such that $AD = AE$. The lines through $B$ and $C$ parallel to $DE$ intersect $\\Omega$ again at $P$ and $Q$, respectively. Denote by $\\omega$ the circumcircle of $\\triangle ADE$. Show that lines $PE$ and $QD$ meet on $\\omega$. Prove that if $\\omega$ passes through $H$, then lines $PD$ and $QE$ meet on $\\omega$ as well.",
              "category": "Geometry",
              "difficulty": "Hard"
            },
            {
              "id": 803,
              "number": "3",
              "statement": "On an infinite square grid we place finitely many cars, which each occupy a single cell and face in one of the four cardinal directions. Cars may never occupy the same cell. It is given that the cell immediately in front of each car is empty, and moreover no two cars face towards each other. In a move, one chooses a car and shifts it one cell forward to a vacant cell. Prove that there exists an infinite sequence of valid moves using each car infinitely many times.",
              "category": "Combinatorics",
              "difficulty": "Hard"
            },
            {
              "id": 804,
              "number": "4",
              "statement": "Consider coins with positive real denominations not exceeding 1. Find the smallest $C > 0$ such that the following holds: if we have any 100 such coins with total value 50, then we can always split them into two stacks of 50 coins each such that the absolute difference between the total values of the two stacks is at most $C$.",
              "category": "Combinatorics",
              "difficulty": "Hard"
            },
            {
              "id": 805,
              "number": "5",
              "statement": "Let $ABC$ be an acute triangle with orthocenter $H$ and circumcircle $\\Gamma$. A line through $H$ intersects segments $AB$ and $AC$ at $E$ and $F$, respectively. Let $K$ be the circumcenter of $\\triangle AEF$, and suppose line $AK$ intersects $\\Gamma$ again at a point $D$. Prove that line $HK$ and the line through $D$ perpendicular to $BC$ meet on $\\Gamma$.",
              "category": "Geometry",
              "difficulty": "Hard"
            },
            {
              "id": 806,
              "number": "6",
              "statement": "Suppose $P$ is a polynomial with integer coefficients such that for every positive integer $n$, the sum of the decimal digits of $|P(n)|$ is not a Fibonacci number. Must $P$ be constant?",
              "category": "Algebra",
              "difficulty": "Hard"
            },
            {
              "id": 807,
              "number": "7",
              "statement": "Let $f : \\mathbb{Z} \\to \\{1, 2, \\ldots, 10^{100}\\}$ be a function satisfying $\\gcd(f(x), f(y)) = \\gcd(f(x), x - y)$ for all integers $x$ and $y$. Show that there exist positive integers $m$ and $n$ such that $f(x) = \\gcd(m + x, n)$ for all integers $x$.",
              "category": "Number Theory",
              "difficulty": "Hard"
            },
            {
              "id": 808,
              "number": "8",
              "statement": "Let $S$ be a set of 16 points in the plane, no three collinear. Let $\\chi(S)$ denote the number of ways to draw 8 lines with endpoints in $S$, such that no two drawn segments intersect, even at endpoints. Find the smallest possible value of $\\chi(S)$ across all such $S$.",
              "category": "Combinatorics",
              "difficulty": "Hard"
            },
            {
              "id": 809,
              "number": "9",
              "statement": "Let $ABC$ be a triangle with incenter $I$. Points $K$ and $L$ are chosen on segment $BC$ such that the incircles of $\\triangle ABK$ and $\\triangle ABL$ are tangent at $P$, and the incircles of $\\triangle ACK$ and $\\triangle ACL$ are tangent at $Q$. Prove that $IP = IQ$.",
              "category": "Geometry",
              "difficulty": "Hard"
            }
          ]
        }
      }
    },
    "2020": {
      "year": "2020",
      "problems": {
        "Selection Team Test": {
          "USA": [
            {
              "id": 901,
              "number": "1",
              "statement": "Let $a, b, c$ be fixed positive integers. There are $a + b + c$ ducks sitting in a circle, one behind the other. Each duck picks either rock, paper, or scissors, with $a$ ducks picking rock, $b$ ducks picking paper, and $c$ ducks picking scissors. A move consists of an operation where a duck switches places with the duck in front if it wins (rock beats scissors, paper beats rock, scissors beats paper). Determine, in terms of $a, b$, and $c$, the maximum number of moves which could take place, over all possible initial configurations.",
              "category": "Combinatorics",
              "difficulty": "Hard"
            },
            {
              "id": 902,
              "number": "2",
              "statement": "Let $ABC$ be a scalene triangle with incenter $I$. The incircle of $ABC$ touches $BC, CA, AB$ at points $D, E, F$, respectively. Let $P$ be the foot of the altitude from $D$ to $EF$, and let $M$ be the midpoint of $BC$. The rays $AP$ and $IP$ intersect the circumcircle of triangle $ABC$ again at points $G$ and $Q$, respectively. Show that the incenter of triangle $GQM$ coincides with $D$.",
              "category": "Geometry",
              "difficulty": "Hard"
            },
            {
              "id": 903,
              "number": "3",
              "statement": "We say a nondegenerate triangle whose angles have measures $\\theta_1, \\theta_2, \\theta_3$ is quirky if there exists integers $r_1, r_2, r_3$, not all zero, such that $r_1\\theta_1 + r_2\\theta_2 + r_3\\theta_3 = 0$. Find all integers $n \\geq 3$ for which a triangle with side lengths $n - 1, n, n + 1$ is quirky.",
              "category": "Geometry",
              "difficulty": "Hard"
            },
            {
              "id": 904,
              "number": "4",
              "statement": "Find all pairs of positive integers $(a, b)$ satisfying the following conditions: $a$ divides $b^4 + 1$, $b$ divides $a^4 + 1$, $\\sqrt[b]{a} = \\sqrt[b]{b}$.",
              "category": "Number Theory",
              "difficulty": "Hard"
            },
            {
              "id": 905,
              "number": "5",
              "statement": "Let $\\mathbb{N}^2$ denote the set of ordered pairs of positive integers. A finite subset $S$ of $\\mathbb{N}^2$ is stable if whenever $(x, y)$ is in $S$, then so are all points $(x', y')$ of $\\mathbb{N}^2$ with both $x' \\leq x$ and $y' \\leq y$. Prove that if $S$ is a stable set, then among all stable subsets of $S$ (including the empty set and $S$ itself), at least half of them have an even number of elements.",
              "category": "Combinatorics",
              "difficulty": "Hard"
            },
            {
              "id": 906,
              "number": "6",
              "statement": "Let $A, B, C, D$ be four points such that no three are collinear and $D$ is not the orthocenter of $ABC$. Let $P, Q, R$ be the orthocenters of $\\triangle BCD, \\triangle CAD, \\triangle ABD$, respectively. Suppose that the lines $AP, BQ, CR$ are pairwise distinct and are concurrent. Show that the four points $A, B, C, D$ lie on a circle.",
              "category": "Geometry",
              "difficulty": "Hard"
            },
            {
              "id": 907,
              "number": "7",
              "statement": "Find all nonconstant polynomials $P(z)$ with complex coefficients for which all complex roots of the polynomials $P(z)$ and $P(z) - 1$ have absolute value 1.",
              "category": "Algebra",
              "difficulty": "Hard"
            },
            {
              "id": 908,
              "number": "8",
              "statement": "For every positive integer $N$, let $\\sigma(N)$ denote the sum of the positive integer divisors of $N$. Find all integers $m \\geq n \\geq 2$ satisfying $\\frac{\\sigma(m) - 1}{m - 1} = \\frac{\\sigma(n) - 1}{n - 1} = \\frac{\\sigma(mn) - 1}{mn - 1}$.",
              "category": "Number Theory",
              "difficulty": "Hard"
            },
            {
              "id": 909,
              "number": "9",
              "statement": "Ten million fireflies are glowing in $\\mathbb{R}^3$ at midnight. Some of the fireflies are friends, and friendship is always mutual. Every second, one firefly moves to a new position so that its distance from each one of its friends is the same as it was before moving. No two fireflies may ever occupy the same point. Initially, no two fireflies are more than a meter away. Following some finite number of seconds, all fireflies find themselves at least ten million meters away from their original positions. Given this information, find the greatest possible number of friendships between the fireflies.",
              "category": "Geometry",
              "difficulty": "Hard"
            }
          ]
        }
      }
    },
    "2021": {
      "year": "2021",
      "problems": {
        "Selection Team Test": {
          "USA": [
            {
              "id": 1001,
              "number": "1",
              "statement": "Let $ABCD$ be a quadrilateral inscribed in a circle with center $O$. Points $X$ and $Y$ lie on sides $AB$ and $CD$, respectively. Suppose the circumcircles of $ADX$ and $BCY$ meet line $XY$ again at $P$ and $Q$, respectively. Show that $OP = OQ$.",
              "category": "Geometry",
              "difficulty": "Hard"
            },
            {
              "id": 1002,
              "number": "2",
              "statement": "Let $a_1 < a_2 < a_3 < a_4 < \\cdots$ be an infinite sequence of real numbers in the interval $(0, 1)$. Show that there exists a number that occurs exactly once in the sequence $\\frac{a_1}{1}, \\frac{a_2}{2}, \\frac{a_3}{3}, \\frac{a_4}{4}, \\ldots$",
              "category": "Algebra",
              "difficulty": "Hard"
            },
            {
              "id": 1003,
              "number": "3",
              "statement": "Find all positive integers $k > 1$ for which there exists a positive integer $n$ such that $\\binom{n}{k}$ is divisible by $n$, and $\\binom{n}{m}$ is not divisible by $n$ for $2 \\leq m < k$.",
              "category": "Number Theory",
              "difficulty": "Hard"
            },
            {
              "id": 1004,
              "number": "4",
              "statement": "Let $a$ and $b$ be positive integers. Suppose that there are infinitely many pairs of positive integers $(m, n)$ for which $m^2 + an + b$ and $n^2 + am + b$ are both perfect squares. Prove that $a$ divides $2b$.",
              "category": "Number Theory",
              "difficulty": "Hard"
            },
            {
              "id": 1005,
              "number": "5",
              "statement": "Let $T$ be a tree on $n$ vertices with exactly $k$ leaves. Suppose that there exists a subset of at least $\\frac{n+k-1}{2}$ vertices of $T$, no two of which are adjacent. Show that the longest path in $T$ contains an even number of edges.",
              "category": "Combinatorics",
              "difficulty": "Hard"
            },
            {
              "id": 1006,
              "number": "6",
              "statement": "Triangles $ABC$ and $DEF$ share circumcircle $\\Omega$ and incircle $\\omega$ so that points $A, F, B, D, C$, and $E$ occur in this order along $\\Omega$. Let $\\Delta_A$ be the triangle formed by lines $AB, AC$, and $EF$, and define triangles $\\Delta_B, \\Delta_C, \\ldots, \\Delta_F$ similarly. Furthermore, let $\\Omega_A$ and $\\omega_A$ be the circumcircle and incircle of triangle $\\Delta_A$, respectively, and define circles $\\Omega_B, \\omega_B, \\ldots, \\Omega_F, \\omega_F$ similarly. (a) Prove that the two common external tangents to circles $\\Omega_A$ and $\\Omega_D$ and the two common external tangents to $\\omega_A$ and $\\omega_D$ are either concurrent or pairwise parallel. (b) Suppose that these four lines meet at point $T_A$, and define points $T_B$ and $T_C$ similarly. Prove that points $T_A, T_B$, and $T_C$ are collinear.",
              "category": "Geometry",
              "difficulty": "Hard"
            },
            {
              "id": 1007,
              "number": "7",
              "statement": "Let $M$ be a finite set of lattice points and $n$ be a positive integer. A mine-avoiding path is a path of lattice points with length $n$, beginning at $(0, 0)$ and ending at a point on the line $x+y = n$, that does not contain any point in $M$. Prove that if there exists a mine-avoiding path, then there exist at least $2^{n-|M|}$ mine-avoiding paths.",
              "category": "Combinatorics",
              "difficulty": "Hard"
            },
            {
              "id": 1008,
              "number": "8",
              "statement": "Let $ABC$ be a scalene triangle. Points $A_1, B_1$ and $C_1$ are chosen on segments $BC, CA$ and $AB$, respectively, such that $\\triangle A_1B_1C_1$ and $\\triangle ABC$ are similar. Let $A_2$ be the unique point on line $B_1C_1$ such that $AA_2 = A_1A_2$. Points $B_2$ and $C_2$ are defined similarly. Prove that $\\triangle A_2B_2C_2$ and $\\triangle ABC$ are similar.",
              "category": "Geometry",
              "difficulty": "Hard"
            },
            {
              "id": 1009,
              "number": "9",
              "statement": "Let $q = p^r$ for a prime number $p$ and positive integer $r$. Let $\\zeta = e^{2\\pi i/q}$. Find the least positive integer $n$ such that $\\sum_{1\\leq k\\leq q, \\gcd(k,p)=1} \\frac{1}{(1 - \\zeta^k)^n}$ is not an integer.",
              "category": "Algebra",
              "difficulty": "Hard"
            }
          ]
        }
      }
    },
    "2022": {
      "year": "2022",
      "problems": {
        "Selection Team Test": {
          "USA": [
            {
              "id": 1101,
              "number": "1",
              "statement": "Let $n$ be a positive integer. Find the smallest positive integer $k$ such that for any set $S$ of $n$ points in the interior of the unit square, there exists a set of $k$ rectangles such that: The sides of each rectangle are parallel to the sides of the unit square. Each point in $S$ is not in the interior of any rectangle. Each point in the interior of the unit square but not in $S$ is in the interior of at least one of the $k$ rectangles.",
              "category": "Combinatorics",
              "difficulty": "Hard"
            },
            {
              "id": 1102,
              "number": "2",
              "statement": "Let $ABC$ be a triangle. Let $\\theta$ be a fixed angle for which $\\theta < \\frac{1}{2}\\min(\\angle A, \\angle B, \\angle C)$. Points $S_A$ and $T_A$ lie on segment $BC$ such that $\\angle BAS_A = \\angle T_AAC = \\theta$. Let $P_A$ and $Q_A$ be the feet from $B$ and $C$ to $AS_A$ and $AT_A$ respectively. Then $\\ell_A$ is defined as the perpendicular bisector of $P_AQ_A$. Define $\\ell_B$ and $\\ell_C$ analogously. Prove that $\\ell_A, \\ell_B$, and $\\ell_C$ are concurrent or all parallel.",
              "category": "Geometry",
              "difficulty": "Hard"
            },
            {
              "id": 1103,
              "number": "3",
              "statement": "Determine all positive integers $N$ for which there exists a strictly increasing sequence of positive integers $s_0 < s_1 < s_2 < \\cdots$ satisfying: the sequence $s_1 - s_0, s_2 - s_1, s_3 - s_2, \\ldots$ is periodic; and $s_{s_n} - s_{s_{n-1}} \\leq N < s_{1+s_n} - s_{s_{n-1}}$ for all positive integers $n$.",
              "category": "Number Theory",
              "difficulty": "Hard"
            },
            {
              "id": 1104,
              "number": "4",
              "statement": "Let $\\mathbb{N}$ denote the set of positive integers. A function $f : \\mathbb{N} \\to \\mathbb{N}$ has the property that for all positive integers $m$ and $n$, exactly one of the $f(n)$ numbers $f(m + 1), f(m + 2), \\ldots, f(m + f(n))$ is divisible by $n$. Prove that $f(n) = n$ for infinitely many positive integers $n$.",
              "category": "Algebra",
              "difficulty": "Hard"
            },
            {
              "id": 1105,
              "number": "5",
              "statement": "Let $A_1, \\ldots, A_{2022}$ be the vertices of a regular 2022-gon in the plane. Alice and Bob play a game. Alice secretly chooses a line and colors all points in the plane on one side of the line blue, and all points on the other side of the line red. Points on the line are colored blue. In each round, Bob chooses a point in the plane and Alice responds truthfully with the color of that point. What is the smallest number $Q$ for which Bob has a strategy to always determine the colors of points $A_1, \\ldots, A_{2022}$ in $Q$ rounds?",
              "category": "Combinatorics",
              "difficulty": "Hard"
            },
            {
              "id": 1106,
              "number": "6",
              "statement": "Let $O$ and $H$ be the circumcenter and orthocenter, respectively, of an acute scalene triangle $ABC$. The perpendicular bisector of $AH$ intersects $AB$ and $AC$ at $X_A$ and $Y_A$ respectively. Let $K_A$ denote the intersection of the circumcircles of triangles $OX_AY_A$ and $BOC$ other than $O$. Define $K_B$ and $K_C$ analogously. Prove that $K_A, K_B, K_C$, and $O$ are concyclic.",
              "category": "Geometry",
              "difficulty": "Hard"
            },
            {
              "id": 1107,
              "number": "7",
              "statement": "Let $ABCD$ be a parallelogram. Point $E$ lies on segment $CD$ such that $2\\angle AEB = \\angle ADB + \\angle ACB$, and point $F$ lies on segment $BC$ such that $2\\angle DFA = \\angle DCA + \\angle DBA$. Let $K$ be the circumcenter of triangle $ABD$. Prove that $KE = KF$.",
              "category": "Geometry",
              "difficulty": "Hard"
            },
            {
              "id": 1108,
              "number": "8",
              "statement": "Let $\\mathbb{N}$ denote the set of positive integers. Find all functions $f : \\mathbb{N} \\to \\mathbb{Z}$ such that $\\left\\lfloor\\frac{f(mn)}{n}\\right\\rfloor = f(m)$ for all positive integers $m, n$.",
              "category": "Algebra",
              "difficulty": "Hard"
            },
            {
              "id": 1109,
              "number": "9",
              "statement": "Let $k > 1$ be a fixed positive integer. Prove that if $n$ is a sufficiently large positive integer, there exists a sequence of integers with the following properties: Each element of the sequence is between 1 and $n$, inclusive. For any two different contiguous subsequences of the sequence with length between 2 and $k$ inclusive, the multisets of values in those two subsequences is not the same. The sequence has length at least $0.499n^2$.",
              "category": "Combinatorics",
              "difficulty": "Hard"
            }
          ]
        }
      }
    },
    "2023": {
      "year": "2023",
      "problems": {
        "Selection Team Test": {
          "USA": [
            {
              "id": 1201,
              "number": "1",
              "statement": "Let $ABC$ be a triangle with centroid $G$. Points $R$ and $S$ are chosen on rays $GB$ and $GC$, respectively, such that $\\angle ABS = \\angle ACR = 180^\\circ - \\angle BGC$. Prove that $\\angle RAS + \\angle BAC = \\angle BGC$.",
              "category": "Geometry",
              "difficulty": "Hard"
            },
            {
              "id": 1202,
              "number": "2",
              "statement": "Let $n \\geq m \\geq 1$ be integers. Prove that $\\sum_{k=m}^{n}\\left(\\frac{1}{k^2} + \\frac{1}{k^3}\\right) \\geq m \\cdot \\left(\\sum_{k=m}^{n}\\frac{1}{k^2}\\right)^2$.",
              "category": "Algebra",
              "difficulty": "Hard"
            },
            {
              "id": 1203,
              "number": "3",
              "statement": "Find all positive integers $n$ for which it is possible to color some cells of an infinite grid of unit squares red, such that each rectangle consisting of exactly $n$ cells contains an odd number of red cells.",
              "category": "Combinatorics",
              "difficulty": "Hard"
            },
            {
              "id": 1204,
              "number": "4",
              "statement": "Let $n \\geq 3$ be an integer and let $K_n$ be the complete graph on $n$ vertices. Each edge of $K_n$ is colored either red, green, or blue. Let $A$ denote the number of triangles in $K_n$ with all edges of the same color, and let $B$ denote the number of triangles in $K_n$ with all edges of different colors. Prove $B \\leq 2A + \\frac{n(n - 1)}{3}$.",
              "category": "Combinatorics",
              "difficulty": "Hard"
            },
            {
              "id": 1205,
              "number": "5",
              "statement": "Suppose $a, b$, and $c$ are three complex numbers with product 1. Assume that none of $a, b$, and $c$ are real or have absolute value 1. Define $p = (a + b + c) + \\left(\\frac{1}{a} + \\frac{1}{b} + \\frac{1}{c}\\right)$ and $q = \\frac{a}{b} + \\frac{b}{c} + \\frac{c}{a}$. Given that both $p$ and $q$ are real numbers, find all possible values of the ordered pair $(p, q)$.",
              "category": "Algebra",
              "difficulty": "Hard"
            },
            {
              "id": 1206,
              "number": "6",
              "statement": "Let $ABC$ be a scalene triangle and let $P$ and $Q$ be two distinct points in its interior. Suppose that the angle bisectors of $\\angle PAQ, \\angle PBQ$, and $\\angle PCQ$ are the altitudes of triangle $ABC$. Prove that the midpoint of $PQ$ lies on the Euler line of $ABC$.",
              "category": "Geometry",
              "difficulty": "Hard"
            },
            {
              "id": 1207,
              "number": "7",
              "statement": "The Bank of Pittsburgh issues coins that have a heads side and a tails side. Vera has a row of 2023 such coins alternately tails-up and heads-up, with the leftmost coin tails-up. In a move, Vera may flip over one of the coins in the row, subject to rules about adjacency. Determine the smallest possible number of moves Vera can make to reach a state in which every coin is heads-up.",
              "category": "Combinatorics",
              "difficulty": "Hard"
            },
            {
              "id": 1208,
              "number": "8",
              "statement": "Let $ABC$ be an equilateral triangle with side length 1. Points $A_1$ and $A_2$ are chosen on side $BC$, points $B_1$ and $B_2$ are chosen on side $CA$, and points $C_1$ and $C_2$ are chosen on side $AB$ such that $BA_1 < BA_2$, $CB_1 < CB_2$, and $AC_1 < AC_2$. Suppose that the three line segments $B_1C_2, C_1A_2, A_1B_2$ are concurrent, and the perimeters of triangles $AB_2C_1, BC_2A_1$, and $CA_2B_1$ are all equal. Find all possible values of this common perimeter.",
              "category": "Geometry",
              "difficulty": "Hard"
            },
            {
              "id": 1209,
              "number": "9",
              "statement": "For every integer $m \\geq 1$, let $\\mathbb{Z}/m\\mathbb{Z}$ denote the set of integers modulo $m$. Let $p$ be a fixed prime and let $a \\geq 2$ and $e \\geq 1$ be fixed integers. Given a function $f : \\mathbb{Z}/a\\mathbb{Z} \\to \\mathbb{Z}/p^e\\mathbb{Z}$ and an integer $k \\geq 0$, the $k$th finite difference $\\Delta^kf$ is defined recursively. Determine the number of functions $f$ such that there exists some $k \\geq 1$ for which $\\Delta^kf = f$.",
              "category": "Algebra",
              "difficulty": "Hard"
            }
          ]
        }
      }
    },
    "2024": {
      "year": "2024",
      "problems": {
        "Selection Team Test": {
          "USA": [
            {
              "id": 1301,
              "number": "1",
              "statement": "For every ordered pair of integers $(i, j)$, we wish to select a point $P_{i,j}$ in the Cartesian plane whose coordinates lie inside the unit square defined by $i < x < i + 1$, $j < y < j + 1$. Find all real numbers $c > 0$ for which it's possible to choose these points such that for all integers $i$ and $j$, the quadrilateral $P_{i,j}P_{i+1,j}P_{i+1,j+1}P_{i,j+1}$ has perimeter strictly less than $c$.",
              "category": "Geometry",
              "difficulty": "Hard"
            },
            {
              "id": 1302,
              "number": "2",
              "statement": "Let $p$ be an odd prime number. Suppose $P$ and $Q$ are polynomials with integer coefficients such that $P(0) = Q(0) = 1$, there is no nonconstant polynomial dividing both $P$ and $Q$, and $1 + \\frac{x}{1 + \\frac{2x}{1 + \\cdots \\frac{(p-1)x}{1}}} = \\frac{P(x)}{Q(x)}$. Show that all coefficients of $P$ except for the constant coefficient are divisible by $p$, and all coefficients of $Q$ are not divisible by $p$.",
              "category": "Algebra",
              "difficulty": "Hard"
            },
            {
              "id": 1303,
              "number": "3",
              "statement": "Let $A = \\{a_1, \\ldots, a_{2024}\\}$ be a set of 2024 pairwise distinct real numbers. Assume that there exist positive integers $b_1, b_2, \\ldots, b_{2024}$ such that $a_1b_1 + a_2b_2 + \\cdots + a_{2024}b_{2024} = 0$. Prove that one can choose $a_{2025}, a_{2026}, a_{2027}, \\ldots$ such that $a_k \\in A$ for all $k \\geq 2025$ and, for every positive integer $d$, there exist infinitely many positive integers $n$ satisfying $\\sum_{k=1}^{n} a_kk^d = 0$.",
              "category": "Algebra",
              "difficulty": "Hard"
            },
            {
              "id": 1304,
              "number": "4",
              "statement": "Let $ABCD$ be a quadrilateral inscribed in a circle with center $O$ and $E$ be the intersection of segments $AC$ and $BD$. Let $\\omega_1$ be the circumcircle of $ADE$ and $\\omega_2$ be the circumcircle of $BCE$. The tangent to $\\omega_1$ at $A$ and the tangent to $\\omega_2$ at $C$ meet at $P$. The tangent to $\\omega_1$ at $D$ and the tangent to $\\omega_2$ at $B$ meet at $Q$. Show that $OP = OQ$.",
              "category": "Geometry",
              "difficulty": "Hard"
            },
            {
              "id": 1305,
              "number": "5",
              "statement": "For a positive integer $k$, let $s(k)$ denote the number of 1s in the binary representation of $k$. Prove that for any positive integer $n$, $\\sum_{i=1}^{n}(-1)^{s(3i)} > 0$.",
              "category": "Number Theory",
              "difficulty": "Hard"
            },
            {
              "id": 1306,
              "number": "6",
              "statement": "Determine whether there exists a function $f : \\mathbb{Z}_{>0} \\to \\mathbb{Z}_{>0}$ such that for all positive integers $m$ and $n$, $f(m + nf(m)) = f(n)^m + 2024! \\cdot m$.",
              "category": "Algebra",
              "difficulty": "Hard"
            },
            {
              "id": 1307,
              "number": "7",
              "statement": "An infinite sequence $a_1, a_2, a_3, \\ldots$ of real numbers satisfies $a_{2n-1} + a_{2n} > a_{2n+1} + a_{2n+2}$ and $a_{2n} + a_{2n+1} < a_{2n+2} + a_{2n+3}$ for every positive integer $n$. Prove that there exists a real number $C$ such that $a_na_{n+1} < C$ for every positive integer $n$.",
              "category": "Algebra",
              "difficulty": "Hard"
            },
            {
              "id": 1308,
              "number": "8",
              "statement": "Let $ABC$ be a scalene triangle, and let $D$ be a point on side $BC$ satisfying $\\angle BAD = \\angle DAC$. Suppose that $X$ and $Y$ are points inside $ABC$ such that triangles $ABX$ and $ACY$ are similar and quadrilaterals $ACDX$ and $ABDY$ are cyclic. Let lines $BX$ and $CY$ meet at $S$ and lines $BY$ and $CX$ meet at $T$. Prove that lines $DS$ and $AT$ are parallel.",
              "category": "Geometry",
              "difficulty": "Hard"
            },
            {
              "id": 1309,
              "number": "9",
              "statement": "Let $n \\geq 2$ be a fixed integer. The cells of an $n \\times n$ table are filled with the integers from 1 to $n^2$ with each number appearing exactly once. Let $N$ be the number of unordered quadruples of cells on this board which form an axis-aligned rectangle, with the two smaller integers being on opposite vertices of this rectangle. Find the largest possible value of $N$.",
              "category": "Combinatorics",
              "difficulty": "Hard"
            }
          ]
        }
      }
    },
    "2025": {
      "year": "2025",
      "problems": {
        "Selection Team Test": {
          "USA": [
            {
              "id": 1401,
              "number": "1",
              "statement": "In a finite group of people, some pairs are friends (friendship is mutual). Each person $p$ has a list $f_1(p), f_2(p), \\ldots, f_{d(p)}(p)$ of their friends, where $d(p)$ is the number of distinct friends $p$ has. Additionally, any two people are connected by a series of friendships. Each person also has a water balloon. The following game is played: on round $r$, each person $p$ throws the current water balloon they have to their friend $f_s(p)$ such that $d(p)$ divides $r - s$. Show that if the game never ends, then everyone has the same number of friends.",
              "category": "Combinatorics",
              "difficulty": "Hard"
            },
            {
              "id": 1402,
              "number": "2",
              "statement": "Find all sets $S \\subseteq \\mathbb{Z}$ for which there exists a function $f : \\mathbb{R} \\to \\mathbb{Z}$ such that $f(x - y) - 2f(x) + f(x + y) \\geq -1$ for all $x, y \\in \\mathbb{R}$, and $S = \\{f(z) \\mid z \\in \\mathbb{R}\\}$.",
              "category": "Algebra",
              "difficulty": "Hard"
            },
            {
              "id": 1403,
              "number": "3",
              "statement": "Let $a_1, a_2, r$, and $s$ be positive integers with $r$ and $s$ odd. The sequence $a_1, a_2, a_3, \\ldots$ is defined by $a_{n+2} = ra_{n+1} + sa_n$ for all $n \\geq 1$. Determine the maximum possible number of integers $1 \\leq \\ell \\leq 2025$ such that $a_\\ell$ divides $a_{\\ell+1}$, over all possible choices of $a_1, a_2, r$, and $s$.",
              "category": "Number Theory",
              "difficulty": "Hard"
            },
            {
              "id": 1404,
              "number": "4",
              "statement": "Let $n \\geq 2$ be a positive integer. Let $a_1, a_2, \\ldots, a_n$ be a sequence of positive integers such that $\\gcd(a_1, a_2), \\gcd(a_2, a_3), \\ldots, \\gcd(a_{n-1}, a_n)$ is a strictly increasing sequence. Find, in terms of $n$, the maximum possible value of $\\frac{1}{a_1} + \\frac{1}{a_2} + \\cdots + \\frac{1}{a_n}$ over all such sequences.",
              "category": "Number Theory",
              "difficulty": "Hard"
            },
            {
              "id": 1405,
              "number": "5",
              "statement": "A tetrahedron $ABCD$ is said to be angelic if it has nonzero volume and satisfies $\\angle BAC + \\angle CAD + \\angle DAB = \\angle ABC + \\angle CBD + \\angle DBA$ and $\\angle ACB + \\angle BCD + \\angle DCA = \\angle ADB + \\angle BDC + \\angle CDA$. Across all angelic tetrahedrons, what is the maximum number of distinct lengths that could appear in the set $\\{AB, AC, AD, BC, BD, CD\\}$?",
              "category": "Geometry",
              "difficulty": "Hard"
            },
            {
              "id": 1406,
              "number": "6",
              "statement": "Alice and Bob play a game on $n$ vertices labelled $1, 2, \\ldots, n$. They take turns adding edges $\\{i, j\\}$, with Alice going first. Neither player is allowed to make a move that creates a cycle, and the game ends after $n - 1$ total turns. Let the weight of the edge $\\{i, j\\}$ be $|i - j|$, and let $W$ be the total weight of all edges at the end of the game. Alice plays to maximize $W$ and Bob plays to minimize $W$. If both play optimally, what will $W$ be?",
              "category": "Combinatorics",
              "difficulty": "Hard"
            },
            {
              "id": 1407,
              "number": "7",
              "statement": "For a positive real number $c$, the sequence $a_1, a_2, \\ldots$ of real numbers is defined as follows. Let $a_1 = c$, and for $n \\geq 2$, let $a_n = \\sum_{i=1}^{n-1}(a_i)^{n-i+1}$. Find all positive real numbers $c$ such that $a_i > a_{i+1}$ for all positive integers $i$.",
              "category": "Algebra",
              "difficulty": "Hard"
            },
            {
              "id": 1408,
              "number": "8",
              "statement": "Find all polynomials $f$ with integer coefficients such that for all positive integers $n$, $n$ divides $f(f(\\ldots(f(0))\\ldots)) - 1$ (with $n+1$ applications of $f$).",
              "category": "Algebra",
              "difficulty": "Hard"
            },
            {
              "id": 1409,
              "number": "9",
              "statement": "Let acute triangle $ABC$ have orthocenter $H$. Let $B_1, C_1, B_2$, and $C_2$ be collinear points which lie on lines $AB, AC, BH$, and $CH$, respectively. Let $\\omega_B$ and $\\omega_C$ be the circumcircles of triangles $BB_1B_2$ and $CC_1C_2$, respectively. Prove that the radical axis of $\\omega_B$ and $\\omega_C$ intersects the line through their centers on the nine-point circle of triangle $ABC$.",
              "category": "Geometry",
              "difficulty": "Hard"
            }
          ]
        }
      }
    }
  }
}
